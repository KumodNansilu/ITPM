{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ITPM Project\\\\frontend\\\\src\\\\pages\\\\Appointments.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { appointmentService, subjectService, userService } from '../services/api';\nimport { AuthContext } from '../context/AuthContext';\nimport { toast } from 'react-toastify';\nimport styles from '../styles/inlineStyles';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Appointments = () => {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [loading, setLoading] = useState(true);\n  const [appointments, setAppointments] = useState([]);\n  const [subjects, setSubjects] = useState([]);\n  const [topics, setTopics] = useState([]);\n  const [tutors, setTutors] = useState([]);\n  const [availableSlots, setAvailableSlots] = useState([]);\n  const [form, setForm] = useState({\n    subject: '',\n    topic: '',\n    tutor: '',\n    date: '',\n    slot: '',\n    duration: 60,\n    description: ''\n  });\n  useEffect(() => {\n    const fetchInitialData = async () => {\n      try {\n        const [subjectsRes, tutorsRes] = await Promise.all([subjectService.getAllSubjects(), userService.getAllTutors()]);\n        setSubjects(subjectsRes.data || []);\n        setTutors(tutorsRes.data || []);\n      } catch (error) {\n        toast.error('Failed to load subjects or tutors');\n      }\n    };\n    fetchInitialData();\n  }, []);\n  useEffect(() => {\n    fetchAppointments();\n  }, [user === null || user === void 0 ? void 0 : user.role]);\n  useEffect(() => {\n    if (!form.subject) {\n      setTopics([]);\n      setForm(prev => ({\n        ...prev,\n        topic: ''\n      }));\n      return;\n    }\n    const fetchTopics = async () => {\n      try {\n        const response = await subjectService.getTopicsBySubject(form.subject);\n        setTopics(response.data || []);\n      } catch (error) {\n        toast.error('Failed to load topics');\n      }\n    };\n    fetchTopics();\n  }, [form.subject]);\n  useEffect(() => {\n    const fetchSlots = async () => {\n      if (!form.tutor || !form.date) {\n        setAvailableSlots([]);\n        return;\n      }\n      try {\n        const response = await appointmentService.getAvailableSlots(form.tutor, form.date);\n        setAvailableSlots(response.data || []);\n      } catch (error) {\n        toast.error('Failed to load available slots');\n      }\n    };\n    fetchSlots();\n  }, [form.tutor, form.date]);\n  const fetchAppointments = async () => {\n    try {\n      setLoading(true);\n      const response = (user === null || user === void 0 ? void 0 : user.role) === 'tutor' ? await appointmentService.getTutorAppointments() : await appointmentService.getStudentAppointments();\n      setAppointments(response.data || []);\n    } catch (error) {\n      toast.error('Failed to load appointments');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleCreateAppointment = async event => {\n    event.preventDefault();\n    if (!form.tutor || !form.subject || !form.date || !form.slot) {\n      toast.error('Please select tutor, subject, date, and time');\n      return;\n    }\n    try {\n      const payload = {\n        tutor: form.tutor,\n        subject: form.subject,\n        topic: form.topic || undefined,\n        scheduledDate: form.slot,\n        duration: Number(form.duration) || 60,\n        description: form.description\n      };\n      await appointmentService.createAppointment(payload);\n      toast.success('Appointment request sent');\n      setForm({\n        subject: '',\n        topic: '',\n        tutor: '',\n        date: '',\n        slot: '',\n        duration: 60,\n        description: ''\n      });\n      setAvailableSlots([]);\n      fetchAppointments();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to create appointment');\n    }\n  };\n  const handleCancel = async appointmentId => {\n    if (!window.confirm('Cancel this appointment?')) {\n      return;\n    }\n    try {\n      await appointmentService.cancelAppointment(appointmentId);\n      toast.success('Appointment cancelled');\n      fetchAppointments();\n    } catch (error) {\n      toast.error('Failed to cancel appointment');\n    }\n  };\n  const handleApprove = async appointmentId => {\n    const meetingLink = window.prompt('Meeting link (optional):') || '';\n    try {\n      await appointmentService.approveAppointment(appointmentId, {\n        meetingLink\n      });\n      toast.success('Appointment approved');\n      fetchAppointments();\n    } catch (error) {\n      toast.error('Failed to approve appointment');\n    }\n  };\n  const handleReject = async appointmentId => {\n    const notes = window.prompt('Reason for rejection (optional):') || '';\n    try {\n      await appointmentService.rejectAppointment(appointmentId, {\n        notes\n      });\n      toast.success('Appointment rejected');\n      fetchAppointments();\n    } catch (error) {\n      toast.error('Failed to reject appointment');\n    }\n  };\n  const handleComplete = async appointmentId => {\n    try {\n      await appointmentService.completeAppointment(appointmentId);\n      toast.success('Appointment marked as completed');\n      fetchAppointments();\n    } catch (error) {\n      toast.error('Failed to mark appointment as completed');\n    }\n  };\n  const statusStyle = status => {\n    switch (status) {\n      case 'approved':\n        return styles.badgeSuccess;\n      case 'rejected':\n        return styles.badgeDanger;\n      case 'cancelled':\n        return styles.badgeWarning;\n      case 'completed':\n        return styles.badgePrimary;\n      default:\n        return styles.badgePrimary;\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.loading,\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        style: styles.spinnerSvg,\n        viewBox: \"0 0 50 50\",\n        children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: \"25\",\n          cy: \"25\",\n          r: \"20\",\n          fill: \"none\",\n          stroke: \"#e6e6e6\",\n          strokeWidth: \"5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M45 25a20 20 0 0 1-20 20\",\n          stroke: \"#667eea\",\n          strokeWidth: \"5\",\n          strokeLinecap: \"round\",\n          fill: \"none\",\n          children: /*#__PURE__*/_jsxDEV(\"animateTransform\", {\n            attributeName: \"transform\",\n            type: \"rotate\",\n            from: \"0 25 25\",\n            to: \"360 25 25\",\n            dur: \"1s\",\n            repeatCount: \"indefinite\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      ...styles.container,\n      marginTop: '30px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        marginBottom: '30px'\n      },\n      children: \"Appointments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), (user === null || user === void 0 ? void 0 : user.role) === 'student' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        ...styles.card,\n        marginBottom: '30px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Request Study Support Session\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCreateAppointment,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: styles.label,\n          children: \"Tutor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          style: styles.input,\n          value: form.tutor,\n          onChange: event => setForm(prev => ({\n            ...prev,\n            tutor: event.target.value,\n            slot: ''\n          })),\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select tutor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this), tutors.map(tutor => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: tutor._id,\n            children: tutor.name\n          }, tutor._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: styles.label,\n          children: \"Subject\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          style: styles.input,\n          value: form.subject,\n          onChange: event => setForm(prev => ({\n            ...prev,\n            subject: event.target.value,\n            topic: ''\n          })),\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select subject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this), subjects.map(subject => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: subject._id,\n            children: subject.name\n          }, subject._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: styles.label,\n          children: \"Topic (optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          style: styles.input,\n          value: form.topic,\n          onChange: event => setForm(prev => ({\n            ...prev,\n            topic: event.target.value\n          })),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select topic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this), topics.map(topic => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: topic._id,\n            children: topic.name\n          }, topic._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: styles.label,\n          children: \"Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          style: styles.input,\n          value: form.date,\n          onChange: event => setForm(prev => ({\n            ...prev,\n            date: event.target.value,\n            slot: ''\n          })),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: styles.label,\n          children: \"Available Time Slots\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: '10px',\n            marginBottom: '10px'\n          },\n          children: [availableSlots.length === 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: '14px',\n              color: '#666'\n            },\n            children: \"No available slots yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 17\n          }, this), availableSlots.map(slot => {\n            const slotTime = new Date(slot.time);\n            const display = slotTime.toLocaleTimeString([], {\n              hour: '2-digit',\n              minute: '2-digit'\n            });\n            const isSelected = form.slot === slot.time;\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setForm(prev => ({\n                ...prev,\n                slot: slot.time\n              })),\n              style: {\n                ...styles.button,\n                background: isSelected ? '#1976d2' : '#667eea',\n                padding: '8px 12px'\n              },\n              children: display\n            }, slot.time, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 19\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: styles.label,\n          children: \"Duration (minutes)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          style: styles.input,\n          value: form.duration,\n          min: \"30\",\n          max: \"180\",\n          onChange: event => setForm(prev => ({\n            ...prev,\n            duration: event.target.value\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: styles.label,\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          style: {\n            ...styles.input,\n            height: '90px'\n          },\n          value: form.description,\n          onChange: event => setForm(prev => ({\n            ...prev,\n            description: event.target.value\n          }))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          style: {\n            ...styles.button,\n            marginTop: '10px'\n          },\n          children: \"Send Request\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: (user === null || user === void 0 ? void 0 : user.role) === 'tutor' ? 'Scheduled Sessions' : 'My Appointments'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        gap: '15px'\n      },\n      children: appointments.map(appointment => {\n        var _appointment$subject, _appointment$topic, _appointment$student, _appointment$tutor;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.card,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'start',\n              gap: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: ((_appointment$subject = appointment.subject) === null || _appointment$subject === void 0 ? void 0 : _appointment$subject.name) || 'Subject'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Topic:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 20\n                }, this), \" \", ((_appointment$topic = appointment.topic) === null || _appointment$topic === void 0 ? void 0 : _appointment$topic.name) || '—']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Date:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 20\n                }, this), \" \", new Date(appointment.scheduledDate).toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Duration:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 20\n                }, this), \" \", appointment.duration, \" minutes\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this), (user === null || user === void 0 ? void 0 : user.role) === 'tutor' ? /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Student:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 22\n                }, this), \" \", (_appointment$student = appointment.student) === null || _appointment$student === void 0 ? void 0 : _appointment$student.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Tutor:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 22\n                }, this), \" \", (_appointment$tutor = appointment.tutor) === null || _appointment$tutor === void 0 ? void 0 : _appointment$tutor.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 19\n              }, this), appointment.meetingLink && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Meeting:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 22\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: appointment.meetingLink,\n                  target: \"_blank\",\n                  rel: \"noreferrer\",\n                  children: \"Join\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 48\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this), appointment.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Notes:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 22\n                }, this), \" \", appointment.description]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  ...styles.badge,\n                  ...statusStyle(appointment.status)\n                },\n                children: appointment.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                flexDirection: 'column',\n                gap: '10px',\n                minWidth: '160px'\n              },\n              children: [(user === null || user === void 0 ? void 0 : user.role) === 'student' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: ['requested', 'approved'].includes(appointment.status) && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleCancel(appointment._id),\n                  style: styles.buttonDanger,\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false), (user === null || user === void 0 ? void 0 : user.role) === 'tutor' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [appointment.status === 'requested' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleApprove(appointment._id),\n                    style: styles.button,\n                    children: \"Approve\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleReject(appointment._id),\n                    style: styles.buttonDanger,\n                    children: \"Reject\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true), appointment.status === 'approved' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleComplete(appointment._id),\n                  style: styles.button,\n                  children: \"Mark Completed\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this)\n        }, appointment._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this), appointments.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.alertInfo,\n      children: \"No appointments yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 5\n  }, this);\n};\n_s(Appointments, \"JRNH+yMI4q8C6TVz0YTeIuD2ZD4=\");\n_c = Appointments;\nexport default Appointments;\nvar _c;\n$RefreshReg$(_c, \"Appointments\");","map":{"version":3,"names":["React","useContext","useEffect","useState","appointmentService","subjectService","userService","AuthContext","toast","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","Appointments","_s","user","loading","setLoading","appointments","setAppointments","subjects","setSubjects","topics","setTopics","tutors","setTutors","availableSlots","setAvailableSlots","form","setForm","subject","topic","tutor","date","slot","duration","description","fetchInitialData","subjectsRes","tutorsRes","Promise","all","getAllSubjects","getAllTutors","data","error","fetchAppointments","role","prev","fetchTopics","response","getTopicsBySubject","fetchSlots","getAvailableSlots","getTutorAppointments","getStudentAppointments","handleCreateAppointment","event","preventDefault","payload","undefined","scheduledDate","Number","createAppointment","success","_error$response","_error$response$data","message","handleCancel","appointmentId","window","confirm","cancelAppointment","handleApprove","meetingLink","prompt","approveAppointment","handleReject","notes","rejectAppointment","handleComplete","completeAppointment","statusStyle","status","badgeSuccess","badgeDanger","badgeWarning","badgePrimary","style","children","spinnerSvg","viewBox","cx","cy","r","fill","stroke","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","d","strokeLinecap","attributeName","type","from","to","dur","repeatCount","container","marginTop","marginBottom","card","onSubmit","label","input","value","onChange","target","required","map","_id","name","display","flexWrap","gap","length","fontSize","color","slotTime","Date","time","toLocaleTimeString","hour","minute","isSelected","onClick","button","background","padding","min","max","height","appointment","_appointment$subject","_appointment$topic","_appointment$student","_appointment$tutor","justifyContent","alignItems","flex","toLocaleString","student","href","rel","badge","flexDirection","minWidth","includes","buttonDanger","alertInfo","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Desktop/ITPM Project/frontend/src/pages/Appointments.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { appointmentService, subjectService, userService } from '../services/api';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { toast } from 'react-toastify';\r\nimport styles from '../styles/inlineStyles';\r\n\r\nconst Appointments = () => {\r\n  const { user } = useContext(AuthContext);\r\n  const [loading, setLoading] = useState(true);\r\n  const [appointments, setAppointments] = useState([]);\r\n  const [subjects, setSubjects] = useState([]);\r\n  const [topics, setTopics] = useState([]);\r\n  const [tutors, setTutors] = useState([]);\r\n  const [availableSlots, setAvailableSlots] = useState([]);\r\n\r\n  const [form, setForm] = useState({\r\n    subject: '',\r\n    topic: '',\r\n    tutor: '',\r\n    date: '',\r\n    slot: '',\r\n    duration: 60,\r\n    description: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchInitialData = async () => {\r\n      try {\r\n        const [subjectsRes, tutorsRes] = await Promise.all([\r\n          subjectService.getAllSubjects(),\r\n          userService.getAllTutors()\r\n        ]);\r\n        setSubjects(subjectsRes.data || []);\r\n        setTutors(tutorsRes.data || []);\r\n      } catch (error) {\r\n        toast.error('Failed to load subjects or tutors');\r\n      }\r\n    };\r\n\r\n    fetchInitialData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchAppointments();\r\n  }, [user?.role]);\r\n\r\n  useEffect(() => {\r\n    if (!form.subject) {\r\n      setTopics([]);\r\n      setForm(prev => ({ ...prev, topic: '' }));\r\n      return;\r\n    }\r\n\r\n    const fetchTopics = async () => {\r\n      try {\r\n        const response = await subjectService.getTopicsBySubject(form.subject);\r\n        setTopics(response.data || []);\r\n      } catch (error) {\r\n        toast.error('Failed to load topics');\r\n      }\r\n    };\r\n\r\n    fetchTopics();\r\n  }, [form.subject]);\r\n\r\n  useEffect(() => {\r\n    const fetchSlots = async () => {\r\n      if (!form.tutor || !form.date) {\r\n        setAvailableSlots([]);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await appointmentService.getAvailableSlots(form.tutor, form.date);\r\n        setAvailableSlots(response.data || []);\r\n      } catch (error) {\r\n        toast.error('Failed to load available slots');\r\n      }\r\n    };\r\n\r\n    fetchSlots();\r\n  }, [form.tutor, form.date]);\r\n\r\n  const fetchAppointments = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = user?.role === 'tutor'\r\n        ? await appointmentService.getTutorAppointments()\r\n        : await appointmentService.getStudentAppointments();\r\n      setAppointments(response.data || []);\r\n    } catch (error) {\r\n      toast.error('Failed to load appointments');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateAppointment = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!form.tutor || !form.subject || !form.date || !form.slot) {\r\n      toast.error('Please select tutor, subject, date, and time');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const payload = {\r\n        tutor: form.tutor,\r\n        subject: form.subject,\r\n        topic: form.topic || undefined,\r\n        scheduledDate: form.slot,\r\n        duration: Number(form.duration) || 60,\r\n        description: form.description\r\n      };\r\n\r\n      await appointmentService.createAppointment(payload);\r\n      toast.success('Appointment request sent');\r\n      setForm({\r\n        subject: '',\r\n        topic: '',\r\n        tutor: '',\r\n        date: '',\r\n        slot: '',\r\n        duration: 60,\r\n        description: ''\r\n      });\r\n      setAvailableSlots([]);\r\n      fetchAppointments();\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to create appointment');\r\n    }\r\n  };\r\n\r\n  const handleCancel = async (appointmentId) => {\r\n    if (!window.confirm('Cancel this appointment?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await appointmentService.cancelAppointment(appointmentId);\r\n      toast.success('Appointment cancelled');\r\n      fetchAppointments();\r\n    } catch (error) {\r\n      toast.error('Failed to cancel appointment');\r\n    }\r\n  };\r\n\r\n  const handleApprove = async (appointmentId) => {\r\n    const meetingLink = window.prompt('Meeting link (optional):') || '';\r\n\r\n    try {\r\n      await appointmentService.approveAppointment(appointmentId, { meetingLink });\r\n      toast.success('Appointment approved');\r\n      fetchAppointments();\r\n    } catch (error) {\r\n      toast.error('Failed to approve appointment');\r\n    }\r\n  };\r\n\r\n  const handleReject = async (appointmentId) => {\r\n    const notes = window.prompt('Reason for rejection (optional):') || '';\r\n\r\n    try {\r\n      await appointmentService.rejectAppointment(appointmentId, { notes });\r\n      toast.success('Appointment rejected');\r\n      fetchAppointments();\r\n    } catch (error) {\r\n      toast.error('Failed to reject appointment');\r\n    }\r\n  };\r\n\r\n  const handleComplete = async (appointmentId) => {\r\n    try {\r\n      await appointmentService.completeAppointment(appointmentId);\r\n      toast.success('Appointment marked as completed');\r\n      fetchAppointments();\r\n    } catch (error) {\r\n      toast.error('Failed to mark appointment as completed');\r\n    }\r\n  };\r\n\r\n  const statusStyle = (status) => {\r\n    switch (status) {\r\n      case 'approved':\r\n        return styles.badgeSuccess;\r\n      case 'rejected':\r\n        return styles.badgeDanger;\r\n      case 'cancelled':\r\n        return styles.badgeWarning;\r\n      case 'completed':\r\n        return styles.badgePrimary;\r\n      default:\r\n        return styles.badgePrimary;\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={styles.loading}>\r\n        <svg style={styles.spinnerSvg} viewBox=\"0 0 50 50\">\r\n          <circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" stroke=\"#e6e6e6\" strokeWidth=\"5\"></circle>\r\n          <path d=\"M45 25a20 20 0 0 1-20 20\" stroke=\"#667eea\" strokeWidth=\"5\" strokeLinecap=\"round\" fill=\"none\">\r\n            <animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 25 25\" to=\"360 25 25\" dur=\"1s\" repeatCount=\"indefinite\" />\r\n          </path>\r\n        </svg>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ ...styles.container, marginTop: '30px' }}>\r\n      <h1 style={{ marginBottom: '30px' }}>Appointments</h1>\r\n\r\n      {user?.role === 'student' && (\r\n        <div style={{ ...styles.card, marginBottom: '30px' }}>\r\n          <h2>Request Study Support Session</h2>\r\n          <form onSubmit={handleCreateAppointment}>\r\n            <label style={styles.label}>Tutor</label>\r\n            <select\r\n              style={styles.input}\r\n              value={form.tutor}\r\n              onChange={(event) => setForm(prev => ({ ...prev, tutor: event.target.value, slot: '' }))}\r\n              required\r\n            >\r\n              <option value=\"\">Select tutor</option>\r\n              {tutors.map(tutor => (\r\n                <option key={tutor._id} value={tutor._id}>{tutor.name}</option>\r\n              ))}\r\n            </select>\r\n\r\n            <label style={styles.label}>Subject</label>\r\n            <select\r\n              style={styles.input}\r\n              value={form.subject}\r\n              onChange={(event) => setForm(prev => ({ ...prev, subject: event.target.value, topic: '' }))}\r\n              required\r\n            >\r\n              <option value=\"\">Select subject</option>\r\n              {subjects.map(subject => (\r\n                <option key={subject._id} value={subject._id}>{subject.name}</option>\r\n              ))}\r\n            </select>\r\n\r\n            <label style={styles.label}>Topic (optional)</label>\r\n            <select\r\n              style={styles.input}\r\n              value={form.topic}\r\n              onChange={(event) => setForm(prev => ({ ...prev, topic: event.target.value }))}\r\n            >\r\n              <option value=\"\">Select topic</option>\r\n              {topics.map(topic => (\r\n                <option key={topic._id} value={topic._id}>{topic.name}</option>\r\n              ))}\r\n            </select>\r\n\r\n            <label style={styles.label}>Date</label>\r\n            <input\r\n              type=\"date\"\r\n              style={styles.input}\r\n              value={form.date}\r\n              onChange={(event) => setForm(prev => ({ ...prev, date: event.target.value, slot: '' }))}\r\n              required\r\n            />\r\n\r\n            <label style={styles.label}>Available Time Slots</label>\r\n            <div style={{ display: 'flex', flexWrap: 'wrap', gap: '10px', marginBottom: '10px' }}>\r\n              {availableSlots.length === 0 && (\r\n                <span style={{ fontSize: '14px', color: '#666' }}>No available slots yet.</span>\r\n              )}\r\n              {availableSlots.map(slot => {\r\n                const slotTime = new Date(slot.time);\r\n                const display = slotTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n                const isSelected = form.slot === slot.time;\r\n                return (\r\n                  <button\r\n                    type=\"button\"\r\n                    key={slot.time}\r\n                    onClick={() => setForm(prev => ({ ...prev, slot: slot.time }))}\r\n                    style={{\r\n                      ...styles.button,\r\n                      background: isSelected ? '#1976d2' : '#667eea',\r\n                      padding: '8px 12px'\r\n                    }}\r\n                  >\r\n                    {display}\r\n                  </button>\r\n                );\r\n              })}\r\n            </div>\r\n\r\n            <label style={styles.label}>Duration (minutes)</label>\r\n            <input\r\n              type=\"number\"\r\n              style={styles.input}\r\n              value={form.duration}\r\n              min=\"30\"\r\n              max=\"180\"\r\n              onChange={(event) => setForm(prev => ({ ...prev, duration: event.target.value }))}\r\n            />\r\n\r\n            <label style={styles.label}>Description</label>\r\n            <textarea\r\n              style={{ ...styles.input, height: '90px' }}\r\n              value={form.description}\r\n              onChange={(event) => setForm(prev => ({ ...prev, description: event.target.value }))}\r\n            />\r\n\r\n            <button type=\"submit\" style={{ ...styles.button, marginTop: '10px' }}>Send Request</button>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ marginBottom: '20px' }}>\r\n        <h2>{user?.role === 'tutor' ? 'Scheduled Sessions' : 'My Appointments'}</h2>\r\n      </div>\r\n\r\n      <div style={{ display: 'grid', gap: '15px' }}>\r\n        {appointments.map(appointment => (\r\n          <div key={appointment._id} style={styles.card}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'start', gap: '20px' }}>\r\n              <div style={{ flex: 1 }}>\r\n                <h3>{appointment.subject?.name || 'Subject'}</h3>\r\n                <p><strong>Topic:</strong> {appointment.topic?.name || '—'}</p>\r\n                <p><strong>Date:</strong> {new Date(appointment.scheduledDate).toLocaleString()}</p>\r\n                <p><strong>Duration:</strong> {appointment.duration} minutes</p>\r\n                {user?.role === 'tutor' ? (\r\n                  <p><strong>Student:</strong> {appointment.student?.name}</p>\r\n                ) : (\r\n                  <p><strong>Tutor:</strong> {appointment.tutor?.name}</p>\r\n                )}\r\n                {appointment.meetingLink && (\r\n                  <p><strong>Meeting:</strong> <a href={appointment.meetingLink} target=\"_blank\" rel=\"noreferrer\">Join</a></p>\r\n                )}\r\n                {appointment.description && (\r\n                  <p><strong>Notes:</strong> {appointment.description}</p>\r\n                )}\r\n                <span style={{ ...styles.badge, ...statusStyle(appointment.status) }}>\r\n                  {appointment.status}\r\n                </span>\r\n              </div>\r\n              <div style={{ display: 'flex', flexDirection: 'column', gap: '10px', minWidth: '160px' }}>\r\n                {user?.role === 'student' && (\r\n                  <>\r\n                    {['requested', 'approved'].includes(appointment.status) && (\r\n                      <button onClick={() => handleCancel(appointment._id)} style={styles.buttonDanger}>\r\n                        Cancel\r\n                      </button>\r\n                    )}\r\n                  </>\r\n                )}\r\n\r\n                {user?.role === 'tutor' && (\r\n                  <>\r\n                    {appointment.status === 'requested' && (\r\n                      <>\r\n                        <button onClick={() => handleApprove(appointment._id)} style={styles.button}>\r\n                          Approve\r\n                        </button>\r\n                        <button onClick={() => handleReject(appointment._id)} style={styles.buttonDanger}>\r\n                          Reject\r\n                        </button>\r\n                      </>\r\n                    )}\r\n                    {appointment.status === 'approved' && (\r\n                      <button onClick={() => handleComplete(appointment._id)} style={styles.button}>\r\n                        Mark Completed\r\n                      </button>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {appointments.length === 0 && (\r\n        <div style={styles.alertInfo}>\r\n          No appointments yet.\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Appointments;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}